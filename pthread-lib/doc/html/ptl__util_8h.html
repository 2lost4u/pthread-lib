<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>pthread-lib: ptl_util.h File Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.5 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>ptl_util.h File Reference</h1>
<p>
<a href="ptl__util_8h-source.html">Go to the source code of this file.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Defines</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="ptl__util_8h.html#25875003b43b81a4302256caa4a13599">FREE</a>(x)&nbsp;&nbsp;&nbsp;{if(x) {free(x); x = NULL;}}</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="ptl__util_8h.html#f20576fc72015288ac8e8b7da26185ca">GET_LINE</a>(file, line, line_size, str, val, delim, delim2, sp, val_ptr, str_ptr)&nbsp;&nbsp;&nbsp;{ fgets(line,(line_size),file); str=strtok_r(line,delim,sp); if(!str){continue;} val=strtok_r(NULL, delim2, sp); str_ptr=strip_whitespace(str); val_ptr=strip_whitespace(val); }</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="ptl__util_8h.html#5c6c6b26e9013b259ee96493df0df220">STR_CAT</a>(dest, src, max)&nbsp;&nbsp;&nbsp;{ if((strlen(dest)+strlen(src)) &lt; max){ strcat(dest,src);} else {strncat(dest,src,(max-(strlen(dest)+strlen(src))));} }</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="ptl__util_8h.html#242ecce3416ac3597c8b731deecd3178">COPY</a>(dest, src, size)&nbsp;&nbsp;&nbsp;{ memset(dest,0,size); memcpy(dest,src,size); }</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="ptl__util_8h.html#9addbab77412d6dc0d7f9375afa5a772">INT_TO_CHAR</a>(num, c)&nbsp;&nbsp;&nbsp;{ sprintf(c,&quot;%i&quot;, num);  }</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="ptl__util_8h.html#584277e2b3df9a5db0e93000b09df811">TIMEVAL_TO_TIMESPEC</a>(tv, ts)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="ptl__util_8h.html#69d91877e58331c82de03709b845293d">TIMESPEC_TO_TIMEVAL</a>(tv, ts)</td></tr>

<tr><td colspan="2"><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="ptl__util_8h.html#048fc20c1f5d2db35057c37e0be9c057">ptl_timed_wait</a> (long wait_usec)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="ptl__util_8h.html#85b215bdd25802929825334123fbdce5">ptl_get_future_time</a> (struct timespec *ts, long usec)</td></tr>

</table>
<hr><h2>Define Documentation</h2>
<a class="anchor" name="242ecce3416ac3597c8b731deecd3178"></a><!-- doxytag: member="ptl_util.h::COPY" ref="242ecce3416ac3597c8b731deecd3178" args="(dest, src, size)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define COPY          </td>
          <td>(</td>
          <td class="paramtype">dest,         <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">src,         <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%">&nbsp;&nbsp;&nbsp;{ memset(dest,0,size); memcpy(dest,src,size); }</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="25875003b43b81a4302256caa4a13599"></a><!-- doxytag: member="ptl_util.h::FREE" ref="25875003b43b81a4302256caa4a13599" args="(x)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define FREE          </td>
          <td>(</td>
          <td class="paramtype">x&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%">&nbsp;&nbsp;&nbsp;{if(x) {free(x); x = NULL;}}</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="f20576fc72015288ac8e8b7da26185ca"></a><!-- doxytag: member="ptl_util.h::GET_LINE" ref="f20576fc72015288ac8e8b7da26185ca" args="(file, line, line_size, str, val, delim, delim2, sp, val_ptr, str_ptr)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define GET_LINE          </td>
          <td>(</td>
          <td class="paramtype">file,         <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">line,         <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">line_size,         <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">str,         <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">val,         <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">delim,         <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">delim2,         <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">sp,         <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">val_ptr,         <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">str_ptr&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%">&nbsp;&nbsp;&nbsp;{ fgets(line,(line_size),file); str=strtok_r(line,delim,sp); if(!str){continue;} val=strtok_r(NULL, delim2, sp); str_ptr=strip_whitespace(str); val_ptr=strip_whitespace(val); }</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="9addbab77412d6dc0d7f9375afa5a772"></a><!-- doxytag: member="ptl_util.h::INT_TO_CHAR" ref="9addbab77412d6dc0d7f9375afa5a772" args="(num, c)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define INT_TO_CHAR          </td>
          <td>(</td>
          <td class="paramtype">num,         <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">c&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%">&nbsp;&nbsp;&nbsp;{ sprintf(c,&quot;%i&quot;, num);  }</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="5c6c6b26e9013b259ee96493df0df220"></a><!-- doxytag: member="ptl_util.h::STR_CAT" ref="5c6c6b26e9013b259ee96493df0df220" args="(dest, src, max)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define STR_CAT          </td>
          <td>(</td>
          <td class="paramtype">dest,         <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">src,         <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">max&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%">&nbsp;&nbsp;&nbsp;{ if((strlen(dest)+strlen(src)) &lt; max){ strcat(dest,src);} else {strncat(dest,src,(max-(strlen(dest)+strlen(src))));} }</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="69d91877e58331c82de03709b845293d"></a><!-- doxytag: member="ptl_util.h::TIMESPEC_TO_TIMEVAL" ref="69d91877e58331c82de03709b845293d" args="(tv, ts)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TIMESPEC_TO_TIMEVAL          </td>
          <td>(</td>
          <td class="paramtype">tv,         <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ts&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<b>Value:</b><div class="fragment"><pre class="fragment">{                                   \
        (tv)-&gt;tv_sec = (ts)-&gt;tv_sec;                                    \
        (tv)-&gt;tv_usec = (ts)-&gt;tv_nsec / 1000;                           \
}
</pre></div>
</div>
</div><p>
<a class="anchor" name="584277e2b3df9a5db0e93000b09df811"></a><!-- doxytag: member="ptl_util.h::TIMEVAL_TO_TIMESPEC" ref="584277e2b3df9a5db0e93000b09df811" args="(tv, ts)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TIMEVAL_TO_TIMESPEC          </td>
          <td>(</td>
          <td class="paramtype">tv,         <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ts&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<b>Value:</b><div class="fragment"><pre class="fragment">{                                   \
        (ts)-&gt;tv_sec = (tv)-&gt;tv_sec;                                    \
        (ts)-&gt;tv_nsec = (tv)-&gt;tv_usec * 1000;                           \
}
</pre></div>
</div>
</div><p>
<hr><h2>Function Documentation</h2>
<a class="anchor" name="85b215bdd25802929825334123fbdce5"></a><!-- doxytag: member="ptl_util.h::ptl_get_future_time" ref="85b215bdd25802929825334123fbdce5" args="(struct timespec *ts, long usec)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ptl_get_future_time           </td>
          <td>(</td>
          <td class="paramtype">struct timespec *&nbsp;</td>
          <td class="paramname"> <em>ts</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long&nbsp;</td>
          <td class="paramname"> <em>usec</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="048fc20c1f5d2db35057c37e0be9c057"></a><!-- doxytag: member="ptl_util.h::ptl_timed_wait" ref="048fc20c1f5d2db35057c37e0be9c057" args="(long wait_usec)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ptl_timed_wait           </td>
          <td>(</td>
          <td class="paramtype">long&nbsp;</td>
          <td class="paramname"> <em>wait_usec</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
</div>
<hr size="1"><address style="text-align: right;"><small>Generated on Tue May 6 23:07:29 2008 for pthread-lib by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.5 </small></address>
</body>
</html>
